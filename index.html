<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>n8n Workflow Interface</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="back-btn" id="backBtn" style="display: none;" onclick="goBack()">‚Üê Back</button>
            <h1 class="header-title">n8n Workflow Interface</h1>
        </div>

        <div class="welcome-screen" id="welcomeScreen">
            <h1>Welcome to n8n</h1>
            <p>Access your automation workflows with a single click. Connect, automate, and streamline your processes effortlessly.</p>
            
            <!-- Session Status Card -->
            <div class="session-status" id="sessionStatus">
                <div class="status-indicator" id="statusIndicator">üîç</div>
                <div class="status-text" id="statusText">Checking session...</div>
            </div>
            
            <button class="enter-btn" id="enterBtn" onclick="enterWorkflow()">Enter Workflow</button>
            
            <!-- Testing Tools -->
            <div class="testing-tools" id="testingTools" style="display: none;">
                <h3>üß™ Session Testing Tools</h3>
                <button class="tool-btn" onclick="openNewTab()">Open New Tab</button>
                <button class="tool-btn" onclick="openDirectN8n()">Open n8n Directly</button>
                <button class="tool-btn" onclick="checkCookies()">Check Cookies</button>
                <button class="tool-btn" onclick="getPersonalProjectDetails()">Get Personal Project</button>
                <button class="tool-btn" onclick="clearSession()">Clear Session</button>
            </div>
            
            <div class="loading-spinner" id="loadingSpinner"></div>
            <div class="status-message" id="statusMessage"></div>
        </div>

        <div class="error-message" id="errorMessage"></div>

        <div class="iframe-container" id="iframeContainer">
            <iframe class="workflow-iframe" id="workflowIframe" src=""></iframe>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>